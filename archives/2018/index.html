<!DOCTYPE html>
<html lang="en">
  <head>
  <title>Bii</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" >
  function Entry(id,type, cover, title){
    this.id = id;
    this.type = type;
    this.cover = cover;
    this.title = title;

    this.toHTML = function(){
      var blogHTML = "";
      if (this.type == 1){
        blogHTML += '<div class="pick pick1" id="entry'+this.id+'">'+
          '<div class="pickframe">'+
            '<div class="pickcover pickcover1" style="background-image: url('+this.cover+');"></div>'+
            '<div class="pickinfo pickinfo1">'+
            '<div class="pickinfo1_1"></div>'+
            '<div class="pickinfo1_2">'+this.title+'</div>'+
            '</div>'+
          '</div>'+
        '</div>';
      } else if (this.type == 2) {
        blogHTML += '<div class="pick pick2" id="entry'+this.id+'">'+
          '<div class="pickframe">'+
            '<div class="pickcover pickcover2" style="background-image: url('+this.cover+');"></div>'+
            '<div class="pickinfo pickinfo2">'+
            '<div class="pickinfo2_1"></div>'+
            '<div class="pickinfo2_2">'+this.title+'</div>'+
            '</div>'+
          '</div>'+
        '</div>';
        }else {
          blogHTML += '<div class="pick pick3" id="entry'+this.id+'">'+
            '<div class="pickframe">'+
              '<div class="pickcover pickcover3" style="background-image: url('+this.cover+');"></div>'+
              '<div class="pickinfo pickinfo3">'+
              '<div class="pickinfo3_1"></div>'+
              '<div class="pickinfo3_2">'+this.title+'</div>'+
              '</div>'+
            '</div>'+
          '</div>';
      }
      return blogHTML;
    }
  }

    var backbody = [];
    var Entry1 = new Entry(1,1,'./img/2.jpg','杨振宁');
    var Entry2 = new Entry(2,2,'./img/3.jpg','低端全球化');
    var Entry3 = new Entry(3,2,'./img/4.jpg','低端全球化');
    var Entry4 = new Entry(4,2,'./img/5.jpg','低端全球化');
    var Entry5 = new Entry(5,1,'./img/6.jpg','低端全球化');
    var Entry6 = new Entry(6,2,'./img/7.gif','低端全球化');
    var Entry7 = new Entry(7,2,'./img/8.jpg','低端全球化');
    var Entry8 = new Entry(8,2,'./img/9.jpg','低端全球化');
    var Entry9 = new Entry(9,1,'./img/10.jpg','低端全球化');
    var Entry10 = new Entry(10,2,'./img/11.jpg','低端全球化');
    var Entry11 = new Entry(11,2,'./img/12.jpg','低端全球化');
    var Entry12 = new Entry(12,1,'./img/13.png','低端全球化');

    backbody.push(Entry1);
    backbody.push(Entry2);
    backbody.push(Entry3);
    backbody.push(Entry4);
    backbody.push(Entry5);
    backbody.push(Entry6);
    backbody.push(Entry7);
    backbody.push(Entry8);
    backbody.push(Entry9);
    backbody.push(Entry10);
    backbody.push(Entry11);
    backbody.push(Entry12);

    var i = 1, checklist = [];
    while (i < backbody.length) {
      if (backbody[i].type == 1) {
        checklist.push(backbody[i]);
      }
      i++;
    }

    function showEntry(){
      var i = 0, entryListHTML = "";
      while (i < backbody.length) {
        entryListHTML += backbody[i].toHTML();
        i++;
      }
    document.getElementById("back").innerHTML = entryListHTML;
  }
  function changewidth() {
    var i = 0;
    while (i < checklist.length){
      var brother = document.getElementById("entry"+(checklist[i].id - 1));
      var benzun = document.getElementById("entry"+(checklist[i].id));
      var check = back.clientWidth +back.offsetLeft - brother.offsetWidth - brother.offsetLeft;
      if (check == 255){
      benzun.style.width = "240px";
      } else {
      benzun.style.width = "490px";
      }
      i++;
    }
  }
  function sidepush() {
    if (document.getElementById("fuzhu").style.display == "none") {
      $("#bianlan").addClass("bianlan2").removeClass("bianlan1");
      document.getElementById("sideicon").src = "./icon/side2.png";
      document.getElementById("fuzhu").style.display = "inline";
    } else {
      $("#bianlan").addClass("bianlan1").removeClass("bianlan2");
      document.getElementById("sideicon").src = "./icon/side1.png";
      document.getElementById("fuzhu").style.display = "none";
    }
  }
  function dianji(){
    document.body.addEventListener('touchstart', function () { });
  }
  </script>
  <style type='text/css'>
  :root{
  --width: 240px;
  --height: 280px;
}
  body{margin: 0px;
      font-family: Arial,Hiragino Sans GB,冬青黑,Microsoft YaHei,微软雅黑,SimSun,宋体,Helvetica,Tahoma,Arial sans-serif;}
  ul {
    padding:0;
    margin-top: 2px;
  }
  li {
    padding-top: 10px;
    padding-bottom: 10px;
    list-style:none;
  }
  li.side{
    margin-left: 20px;
    margin-right: 20px;
    border-bottom: 1px solid rgba(255,255,255,0.4);
  }
  li.main:hover{
    background-color: rgba(0,0,0,0.7);
    transition:background-color 0.5s linear;
  }
  li.side:hover{
    color: rgba(255,255,255,0.7);
    transition:color 0.2s linear;
  }
  a {
    color: white;
    text-decoration: none;
  }
  a:visited{
    color: white;
  }
  #dinglan {
    position: fixed;
    top: 0px;
    background-color: rgba(0,0,0,0.95);
    width: 100%;
    height: 45px;
    z-index: 99;
  }
  #wenzi {
    position:         absolute;
    bottom:           8px;
    right:            0px;
    left:             0px;
    font-family:      Times;
    font-size:        26px;
    font-weight: normal;
    color: white;
    text-align: center;
  }
  #back{
      margin: 65px auto 0;
      overflow:hidden;
      transition: width 0.6s;
      }
  @media screen and (min-width: 540px) and (max-width: 790px) {
    #back{
          width: 500px;
        }
    }
  @media screen and (min-width: 790px) and (max-width: 1040px) {
    #back{
         width: 750px;
        }
    }
  @media screen and (min-width: 1040px) and (max-width: 1290px) {
    #back{
          width: 1000px;
        }
    }
  @media screen and (min-width: 1290px) and (max-width: 1540px) {
    #back{
          width: 1250px;
        }
    }

  .pick {
    float: left;
    border-radius: 5px;
    transition: all 0.4s;
    margin: 10px 5px 10px 5px;
    height: var(--height);
    box-shadow: 0 2px 2px rgba(0,0,0,0.2);
    overflow: hidden;
  }
  .pick1{
    width: calc(var(--width)*2 + 10px);
    transition: width 0s;
  }
  .pick1:after{
    clear: right;
  }
  .pick2{
    width: var(--width);
  }
  .pick:hover{
    box-shadow: 0 4px 4px rgba(0,0,0,0.2);
  }
  .pick:hover > .pickframe > .pickcover {
    transform: scale(1.1);
  }
  .pick:hover > .pickframe > .pickinfo2 {
    height: calc(var(--height)*0.3131);
  }
  .pick:hover > .pickframe > .pickinfo1 > .pickinfo1_1 {
    margin-right: 50%;
  }
  .pick:hover > .pickframe > .pickinfo2 > .pickinfo2_1 {
    margin-left: 10%;
    margin-right: 10%;
  }
  .pickframe{
    position: relative;
    width: 100%;
    height: var(--height);
  }
  .pickcover{
    width: 100%;
    border-radius: 5px 5px 0px 0px;
    background-size: cover;
    background-position:center;
    transition: all 1s;
  }
  .pickcover1{
    padding-bottom: var(--height);
  }
  .pickcover2{
    padding-bottom: calc(var(--height)*0.75);
  }
  .pickinfo{
    position: absolute;
    bottom: 0px;
    width: 100%;
    height: calc(var(--height)*0.2424);
    transition: height 0.5s;
    z-index: 2;
    background: white;
  }
  .pickinfo1{
    background: rgba(0,0,0,0.6);
  }
  .pickinfo2{
    background: white;
  }
  .pickinfo1_1{
    margin-top: 12px;
    margin-left: 5%;
    margin-right: 75%;
    height: 0px;
    transition: all 1.5s;
    color: white;
    border-top: 3px solid;
  }
  .pickinfo2_1{
    margin-top: 12px;
    margin-left: 40%;
    margin-right: 40%;
    height: 0px;
    transition: all 1.5s;
    color: rgba(0,0,0,1);
    border-top: 3px solid;
  }
  .pickinfo1_2{
    margin-top: 10px;
    margin-left: 5%;
    font-size: 22px;
    color: white;
  }
  .pickinfo2_2{
    margin-top: 12px;
    margin-left: 15px;
    margin-right: 15px;
    text-align: center;
    font-size: 22px;
    color: rgba(0,0,0,0.6);
  }
  @media screen and (max-width: 540px) {
    #back{
          width: 330px;
        }
    :root{
      --width: 320px;
      --height: 360px;
    }
    .pick1{
      width: var(--width) !important;
      height: var(--height);
    }
    .pick2{
      width: var(--width);
      height: var(--height);
    }
    .pickinfo1_1{
      margin-top: 12px;
      margin-left: 5%;
      margin-right: 240px;
      height: 0px;
      transition: all 1.5s;
      color: white;
      border-top: 3px solid;
    }
    .pick:hover > .pickframe > .pickinfo1 > .pickinfo1_1 {
      margin-right: 160px;
    }

    .pick:active{
      box-shadow: 0 4px 4px rgba(0,0,0,0.2);
    }
    .pick:active > .pickframe > .pickcover {
      transform: scale(1.1);
    }
    .pick:active > .pickframe > .pickinfo2 {
      height: calc(var(--height)*0.3131);
    }
    .pick:active > .pickframe > .pickinfo1 > .pickinfo1_1 {
      margin-right: 160px;
    }
    .pick:active > .pickframe > .pickinfo2 > .pickinfo2_1 {
      margin-left: 10%;
      margin-right: 10%;
    }
  #side {
    position:         absolute;
    bottom:           8px;
    top:              8px;
    left:             15px;
    font-size:        26px;
    text-align: center;
  }
  #bianlan {
    position: fixed;
    top: 45px;
    background-color: rgba(0,0,0,0.9);
    width: 240px;
    height: 100%;
    z-index: 2;
    transition:left 0.5s;
    -moz-transition:left 0.5s; /* Firefox 4 */
    -webkit-transition:left 0.5s; /* Safari and Chrome */
    -o-transition:left 0.5s;
  }
  .bianlan1 {
    left: -240px;
  }
  .bianlan2 {
    left: 0px;
  }
  #sidelist {
    position: absolute;
    color: white;
    top: 10px;
    left: 0px;
    right: 0px;
    font-size: 20px;
    text-align: center;
  }
  #list {
    position: fixed;
    color: white;
    top: 28%;
    left: 30%;
    right: 30%;
    margin-top: 300px;
    font-size: 20px;
    text-align: center;
  }
  </style>
  </head>
  <body onload="dianji(); showEntry();" onresize="changewidth();">
    <div id = 'dinglan'>
      <span id = 'wenzi'>
        <a class="nav" href="./index.html">BiiHug</a>
      </span>
      <span id="side">
        <img id = "sideicon" src="./icon/side1.png" onclick="sidepush();">
        <img id = "fuzhu" style="display: none"></img>
      </span>
    </div>
    <div id="back">
    </div>
    <div id="bianlan" class="bianlan1">
      <ul id="sidelist">
        <li class="side">往期文章</li>
      </ul>
    </div>
  </body>
</html>
