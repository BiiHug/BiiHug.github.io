<!DOCTYPE html>
<html lang="en">
  <head>
  <title>Bii</title>
  <meta charset="utf-8" />
  <meta name="referrer" content="never">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="script/ajax.js"> </script>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript" >
  function locate(){
    if ($(window).scrollTop() == 0){
      window.scrollTo(0,1);
    }
  }
  function Entry(id,type, cover, title, address, position){
    this.id = id;
    this.type = type;
    this.cover = cover;
    this.title = title;
    this.address = address;
    this.position = position;

    this.toHTML = function(){
      var blogHTML = "";
      if (this.type == 1){
        blogHTML += '<div class="pick pick1" id="entry'+this.id+'"onmouseover = "getback(this);" onclick="changewidth(); tuozhan(this); ">'+
          '<div class="pickframe">'+
            '<span class="close blades thick" id="close'+this.id+'" onclick="tuozhanclick(this); setTimeout(changewidth,1050)"></span>'+
            '<div class="pickcover pickcover1" style="background-image: url('+this.cover+');"></div>'+
            '<div class="pickinfo pickinfo1">'+
            '<div class="pickinfo1_1"></div>'+
            '<div class="pickinfo1_2">'+this.title+'</div>'+
            '</div>'+
          '</div>'+
        '</div>';
      } else{
        blogHTML += '<div class="pick pick2" id="entry'+this.id+'"onmouseover = "getback(this);" onclick=" changewidth(); tuozhan(this);">'+
          '<div class="pickframe">'+
            '<span class="close blades thick" id="close'+this.id+'" onclick="tuozhanclick(this); setTimeout(changewidth,1050)"></span>'+
            '<div class="pickcover pickcover2" style="background-image: url('+this.cover+');"></div>'+
            '<div class="pickinfo pickinfo2">'+
            '<div class="pickinfo2_1"></div>'+
            '<div class="pickinfo2_2">'+this.title+'</div>'+
            '</div>'+
          '</div>'+
        '</div>';
        }
      return blogHTML;
    }
  }

    var backbody = [];

    var Entry1 = new Entry(1,1,'./img/entry1.jpg','改革开放：什么是40年最重要的事？','articles/entry1.html');
    var Entry2 = new Entry(2,2,'./img/entry2.jpg','东京地铁沙林事件','articles/entry2.html');
    var Entry3 = new Entry(3,2,'./img/entry3.gif','土耳其严控大学言论','articles/entry3.html');
    var Entry4 = new Entry(4,1,'./img/entry4.jpg','迷妹','articles/entry4.html',"0px 35%");

    backbody.push(Entry1);
    backbody.push(Entry2);
    backbody.push(Entry3);
    backbody.push(Entry4);

    var i = 0, checklist = [];
    while (i < backbody.length-1) {
      if (backbody[i].type == 1) {
        checklist.push(backbody[i]);
      }
      i++;
    }

    function showEntry(){
      var i = backbody.length-1, entryListHTML = "";
      while (i > -1) {
        entryListHTML += backbody[i].toHTML();
        i--;
      }
    document.getElementById("back").innerHTML = entryListHTML;
  }

  function changewidth() {
    var i = checklist.length - 1;
    while (i > -1){
      var brother = document.getElementById("entry"+(checklist[i].id + 1));
      var benzun = document.getElementById("entry"+(checklist[i].id));
      var check = back.clientWidth- brother.offsetWidth - brother.offsetLeft;
      if (check == 225){
      benzun.style.width = "210px";
      $("#entry"+checklist[i].id+"> .pickframe > .pickinfo").addClass('pickinfo13').removeClass('pickinfo');
      } else {
      benzun.style.width = "430px";
      $("#entry"+checklist[i].id+"> .pickframe > .pickinfo13").addClass('pickinfo').removeClass('pickinfo13');
      }
      i--;
    }
  }

  var status = 0;

  function tuozhan(item) {
    var topp = document.getElementById(item.id).offsetTop;
    var leftt = document.getElementById(item.id).offsetLeft;
    $(item).addClass("pick3").removeClass("pick");
    document.getElementById(item.id).style.top = topp -10 + "px";
    document.getElementById(item.id).style.left = leftt -10 + "px";
    var index = (item.id).split('entry')[1] - 1;
    var clearr = document.getElementById(item.id).firstChild.childNodes;
    $(item).addClass("pick4");
    $("#back").css("overflow","visible");
    $(clearr[1]).css("padding-bottom","var(--height)");
    $(clearr[2]).css("display","none");
    document.getElementById(item.id).style.top = $(window).scrollTop() + "px";
    document.getElementById(item.id).style.left = 0 + "px";
    $("#"+ item.id + "> .pickframe >.close").css("visibility","visible");
    if (backbody[index].position != null) {
      $("#"+ item.id + "> .pickframe > .pickcover").css("background-position",backbody[index].position);
    }
    $(item).removeAttr("onclick");
    $(item).css("height","auto");
    var mengban = document.createElement("div");
    mengban.id = "mengban";
    document.getElementById("back").appendChild(mengban);
    var intro = document.createElement("div");
    intro.id = "intro";
    intro.innerHTML = backbody[index].title;
    var article = document.createElement("div");
    article.id = "article";
    $.ajax({
      url:backbody[index].address,
      type:'get',
      success:function(res){
          $('#article').html($(res));
      }
  });
    var thisdiv = document.getElementById(item.id);
    thisdiv.appendChild(intro);
    thisdiv.appendChild(article);
    status = 1;
  }

  function tuozhanclick(item){
    document.getElementById("back").removeChild(document.getElementById("mengban"));
    var blockId = "entry" + (item.id).split('close')[1];
    var getback = document.getElementById(blockId).firstChild.childNodes;
    if (backbody[(item.id).split('close')[1] - 1].type == 1){
      $(getback[1]).css("padding-bottom","var(--height)")
    } else {
      $(getback[1]).css("padding-bottom","calc(var(--height)*0.75)")
    }
    $(getback[2]).css("display","block");
    var thisBlock = document.getElementById(blockId);
    thisBlock.removeChild(document.getElementById("intro"));
    thisBlock.removeChild(document.getElementById("article"));
    $("#"+blockId).addClass("pick").removeClass("pick4").removeClass("pick3");
    $(item).css("visibility","hidden");
    $("#"+blockId).css("top","");
    $("#"+blockId).css("left","");
    status = 0;
  }

  function getback(item){
    if (status == 0){
    $(item).attr("onclick","tuozhan(this); changewidth();");
    }
  }

  function sidepush() {
    if (document.getElementById("fuzhu").style.display == "none") {
      $("#bianlan").addClass("bianlan2").removeClass("bianlan1");
      document.getElementById("sideicon").src = "./icon/side2.png";
      document.getElementById("fuzhu").style.display = "inline";
    } else {
      $("#bianlan").addClass("bianlan1").removeClass("bianlan2");
      document.getElementById("sideicon").src = "./icon/side1.png";
      document.getElementById("fuzhu").style.display = "none";
    }
  }

  function dianji(){
    document.body.addEventListener('touchstart', function () { });
  }

  </script>
  <style type='text/css'>
  :root{
  --width: 210px;
  --height: 280px;
}
  body{ margin: 0px;
        font-family: Arial,Hiragino Sans GB,冬青黑,Microsoft YaHei,微软雅黑,SimSun,宋体,Helvetica,Tahoma,Arial sans-serif;}
  ul {
    padding:0;
    margin-top: 2px;
  }
  li {
    padding-top: 10px;
    padding-bottom: 10px;
    list-style:none;
  }
  li.side {
    margin-left: 20px;
    margin-right: 20px;
    border-bottom: 1px solid rgba(255,255,255,0.4);
  }
  li.main:hover{
    background-color: rgba(0,0,0,0.7);
    transition:background-color 0.5s linear;
  }
  li.side:hover{
    color: rgba(255,255,255,0.7);
    transition:color 0.2s linear;
  }
  a {
    color: white;
    text-decoration: none;
  }
  a:visited{
    color: white;
  }
  #dinglan {
    position: fixed;
    top: 0px;
    background-color: rgba(0,0,0,0.95);
    width: 100%;
    height: 45px;
    z-index: 99;
  }
  #wenzi {
    position:         absolute;
    bottom:           8px;
    right:            0px;
    left:             0px;
    font-family:      Times;
    font-size:        26px;
    font-weight: normal;
    color: white;
    text-align: center;
  }
  #back{
      position: relative;
      margin: 65px auto 0;
      overflow:hidden;
      transition: width 0.6s;
      }
  @media screen and (min-width: 480px) and (max-width: 700px) {
    #back{
          width: 440px;
        }
    }
  @media screen and (min-width: 700px) and (max-width: 920px) {
    #back{
         width: 660px;
        }
    }
  @media screen and (min-width:920px) and (max-width: 1140px) {
    #back{
          width: 880px;
        }
    }
  @media screen and (min-width: 1140px) and (max-width: 1360px) {
    #back{
          width: 1100px;
        }
    }
  @media screen and (min-width: 1360px) and (max-width: 1580px) {
    #back{
          width: 1320px;
        }
    }

    @media screen and (max-width: 480px) {
      #back{
            width: 280px;
          }
      :root{
        --width: 270px;
        --height: 350px;
      }
      .pick1{
        width: var(--width) !important;
        height: var(--height);
      }
      .pick2{
        width: var(--width);
        height: var(--height);
      }
      .pickinfo1_1{
        margin-top: 12px;
        margin-left: 5%;
        margin-right: 240px;
        height: 0px;
        transition: all 1.5s;
        color: white;
        border-top: 3px solid;
      }
      .pick:hover > .pickframe > .pickinfo1 > .pickinfo1_1 {
        margin-right: 160px;
      }

      .pick:active{
        box-shadow: 0 4px 4px rgba(0,0,0,0.2);
      }
      .pick:active > .pickframe > .pickcover {
        transform: scale(1.1);
      }
      .pick:active > .pickframe > .pickinfo2 {
        height: calc(var(--height)*0.3131);
      }
      .pick:active > .pickframe > .pickinfo1 > .pickinfo1_1 {
        margin-right: 160px;
      }
      .pick:active > .pickframe > .pickinfo2 > .pickinfo2_1 {
        margin-left: 10%;
        margin-right: 10%;
      }
    }


  .pick {
    float: left;
    border-radius: 5px;
    transition: all 0.4s;
    background-color: white;
    margin: 10px 5px 10px 5px;
    height: var(--height);
    box-shadow: 0 2px 2px rgba(0,0,0,0.2);
    overflow: hidden;
    transition: width 1s,height 1s;
  }
  .pick1{
    width: calc(var(--width)*2 + 10px);
    transition: width 0.7s;
  }
  .pick2{
    width: var(--width);
  }
  .pick3{
    position: absolute;
    border-radius: 5px;
    background-color: white;
    margin: 10px 5px 10px 5px;
    z-index: 5;
    transition: top 1.3s,left 0.7s,width 0.7s,height 0.5s;
    box-shadow: -4px 12px 12px rgba(0,0,0,0.2);
  }
  .pick4{
    width: 100% !important;
    margin-left: 0px;
    margin-right: 0px;
  }
  @media screen and (max-width: 480px) {
    .pick4{
      width: 310px !important;
      margin-left: -15px;
      margin-right: -15px;
    }
  }
  .pick:hover{
    box-shadow: 0 4px 4px rgba(0,0,0,0.2);
  }
  .pick:hover > .pickframe > .pickcover {
    transform: scale(1.1);
  }
  .pick:hover > .pickframe > .pickinfo13 {
    height: calc(var(--height)*0.34);
  }
  .pick:hover > .pickframe > .pickinfo2 {
    height: calc(var(--height)*0.3131);
  }
  .pick:hover > .pickframe > .pickinfo1 > .pickinfo1_1 {
    margin-right: 50%;
  }
  .pick:hover > .pickframe > .pickinfo2 > .pickinfo2_1 {
    margin-left: 10%;
    margin-right: 10%;
  }
  .pickframe{
    position: relative;
    width: 100%;
    height: var(--height);
  }
  .pickcover{
    width: 100%;
    border-radius: 5px 5px 0px 0px;
    background-size: cover;
    background-position:center;
    transition: all 1s, padding 0.7s;
  }
  .pickcover1{
    padding-bottom: var(--height);
  }
  .pickcover2{
    padding-bottom: calc(var(--height)*0.75);
  }
  .pickinfo{
    position: absolute;
    bottom: 0px;
    width: 100%;
    height: calc(var(--height)*0.2424);
    transition: height 0.5s;
    z-index: 2;
    background: white;
  }
  .pickinfo13{
    position: absolute;
    bottom: 0px;
    width: 100%;
    height: calc(var(--height)*0.2424);
    transition: height 0.5s;
    z-index: 2;
    background: white;
  }
  .pickinfo1{
    background: rgba(0,0,0,0.6);
  }
  .pickinfo2{
    background: white;
  }
  .pickinfo1_1{
    margin-top: 12px;
    margin-left: 5%;
    margin-right: 75%;
    height: 0px;
    transition: all 1.5s;
    color: white;
    border-top: 3px solid;
  }
  .pickinfo2_1{
    margin-top: 12px;
    margin-left: 40%;
    margin-right: 40%;
    height: 0px;
    transition: all 1.5s;
    color: rgba(0,0,0,1);
    border-top: 3px solid;
  }
  .pickinfo1_2{
    margin-top: 10px;
    margin-left: 5%;
    font-size: 19px;
    line-height: 36px;
    color: white;
  }
  .pickinfo2_2{
    margin-top: 12px;
    margin-left: 15px;
    margin-right: 15px;
    text-align: center;
    font-size: 19px;
    color: rgba(0,0,0,0.6);
  }

  #intro {
    margin-top: 35px;
    margin-bottom: 50px;
    margin-left: 15%;
    font-size: 30px;
  }
  @media screen and (max-width: 480px) {
    #intro {
      margin-top: 35px;
      margin-bottom: 50px;
      margin-left: 10%;
      font-size: 30px;
    }
  }
@media screen and (min-width: 480px) and (max-width: 700px) {
  #intro {
    margin-top: 35px;
    margin-bottom: 50px;
    margin-left: 10%;
    font-size: 30px;
  }
}

  #article {
    margin-left: 15%;
    margin-right: 15%;
    font-size: 18px;
    font-family: "Hiragino Sans GB", "Microsoft Yahei", sans-serif;
    text-align: justify;
    text-justify: inter-ideograph;
  }
  #abstract {
    margin-bottom: 50px;
    font-size: 20px;
    color: rgba(0,0,0,0.3);
    text-align: center;
    font-family: Arial,Hiragino Sans GB,冬青黑,Microsoft YaHei,微软雅黑,SimSun,宋体,Helvetica,Tahoma,Arial sans-serif;
  }
  #abstract::before, #abstract::after {
    content: '';
      display: inline-block;
      border: 1px solid rgba(0,0,0,0.3);
      width: 15px;
      vertical-align: middle;
      margin-right: 4px;
}
  @media screen and (max-width: 480px) {
    #article {
      margin-left: 10%;
      margin-right: 10%;
      font-size: 18px;
      font-family: "Hiragino Sans GB", "Microsoft Yahei", sans-serif;
      text-align: justify;
      text-justify: inter-ideograph;
    }
  }
  @media screen and (min-width: 480px) and (max-width: 700px) {
    #article {
      margin-left: 10%;
      margin-right: 10%;
      font-size: 18px;
      font-family: "Hiragino Sans GB", "Microsoft Yahei", sans-serif;
      text-align: justify;
      text-justify: inter-ideograph;
    }
  }
  p.first:first-letter {
    font-size: 40px;
  }
  p.img {
    color: rgba(0,0,0,0.6);
    font-size: 12px;
    text-align: center;
  }
  p.start {
    text-align: center;
    width: 30px;
    border-bottom: 2px solid #000;
    margin-top: 30px;
    margin-bottom: 20px;
    margin-left: auto;
    margin-right: auto;
  }
  p.end {
    text-align: center;
    width: 30px;
    border-bottom: 2px solid #000;
    margin-top: 20px;
    margin-bottom: 30px;
    margin-left: auto;
    margin-right: auto;
  }
  img.main{
    width: 100%
  }

  #mengban {
    width: 100%;
    position:fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: rgba(0,0,0,0.3);
    z-index: 4;
    overflow: hidden;
    border-radius: 5px;
  }

  .close {
    position: absolute;
    top: -15px;
    right: -15px;
    width: 30px;
    height: 30px;
    visibility: hidden;
  }
  .close:hover::before, .close:hover::after {
  background: #CCFFFF;
  }
  .close::before, .close::after {
  content: '';
  position: absolute;
  height: 2px;
  width: 100%;
  top: 50%;
  left: 0;
  margin-top: -1px;
  background: #000;
  z-index: 4;
}
.close::before {
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  -o-transform: rotate(45deg);
  transform: rotate(45deg);
}
.close::after {
  -webkit-transform: rotate(-45deg);
  -moz-transform: rotate(-45deg);
  -ms-transform: rotate(-45deg);
  -o-transform: rotate(-45deg);
  transform: rotate(-45deg);
}
.close.blades::before, .close.blades::after {
  border-radius: 5px 0;
}
.close.thick::before, .close.thick::after {
  height: 4px;
  margin-top: -2px;
}



  #side {
    position:         absolute;
    bottom:           8px;
    top:              8px;
    left:             15px;
    font-size:        26px;
    text-align: center;
  }
  #bianlan {
    position: fixed;
    top: 45px;
    background-color: rgba(0,0,0,0.9);
    width: 240px;
    height: 100%;
    z-index: 2;
    transition:left 0.5s;
    -moz-transition:left 0.5s; /* Firefox 4 */
    -webkit-transition:left 0.5s; /* Safari and Chrome */
    -o-transition:left 0.5s;
  }
  .bianlan1 {
    left: -240px;
  }
  .bianlan2 {
    left: 0px;
  }
  #sidelist {
    position: absolute;
    color: white;
    top: 10px;
    left: 0px;
    right: 0px;
    font-size: 20px;
    text-align: center;
  }
  #list {
    position: fixed;
    color: white;
    top: 28%;
    left: 30%;
    right: 30%;
    margin-top: 300px;
    font-size: 20px;
    text-align: center;
  }
  </style>

  </head>
  <body onload="dianji(); showEntry(); changewidth(); locate();" onresize="setTimeout(changewidth,1050);" onscroll="locate();">
    <div id = 'dinglan'>
      <span id = 'wenzi'>
        <a class="nav" href="./index.html">BiiHug</a>
      </span>
      <span id="side">
        <img id = "sideicon" src="./icon/side1.png" onclick="sidepush();">
        <img id = "fuzhu" style="display: none"></img>
      </span>
    </div>
    <div id="back">
    </div>
    <div id="bianlan" class="bianlan1">
      <ul id="sidelist">
        <li class="side">往期文章</li>
      </ul>
    </div>
  </body>
</html>
